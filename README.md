<p align="center">
  <img width="280px" src="assets/hacker.png">
</p>
<p align="center" dir="auto">
  A penetration testing project for a<br>Cloud-based IoT Architecture.
</p>

<h1 dir="auto">
  <a id="user-content-project-description-and-introduction" class="anchor" aria-hidden="true" href="#project-description-and-introduction">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z">
      </path>
    </svg>
  </a>
  Penetration Testing of a Cloud-based IoT Architecture
</h1>
<p dir="auto">
The project activity in question consists of carrying out the process of Penetration Testing on an asset regarding a Cloud-based IoT architecture; specifically, the following Penetration Testing activity is part of the second step of a dissertation, within which a Cloud-based IoT architecture inspired by a real-life scenario was fully implemented.
</p>

<h2 dir="auto">
  <a id="user-content-introduction" class="anchor" aria-hidden="true" href="#introduction"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true">
    <path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z">
    </path>
    </svg>
  </a>
  Contribution of this work
</h2>
<p dir="auto">
 For the project activity related to the Penetration Testing and Ethical Hacking course, a penetration testing process was carried out on an asset related to an IoT cloud-based architecture representing a smart home with a door configuration that allows access via a fingerprint reader and, through a proximity sensor, detects the presence of strangers. Due to the lack of specific information about the asset to be analyzed, a black box approach was used. To perform the analysis, an appropriate simulated environment was configured, allowing interaction with the asset to examine and detect its vulnerabilities.
</p>

<p dir="auto">
  In particular, the vulnerabilities detected could allow an attacker to obtain full control of the system by assuming the role of administrator. It is also possible for an attacker to steal sensitive data and manipulate it to gain access to the home automation port. At present, the overall level of risk associated with the asset appears to be critical. However, by implementing measures such as robust authentication mechanisms and some simple controls, it is possible to significantly lower the level of risk.
</p>

<h2 dir="auto">
  <a id="user-content-documentation" class="anchor" aria-hidden="true" href="#documentation">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true">
      <path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z">
      </path>
    </svg>
  </a>
  Documentation
</h2>
<ul dir="auto">
  <li>The penetration testing report can be found in the <code>Penetration_Testing_Report.pdf</code> document at the following link: <a href="Penetration_Testing_Report.pdf" rel="nofollow">Penetration Testing Report</a></li><br>
  <li>The narrative of penetration testing can be found in the <code>Penetration_Testing_Narrative.pdf</code> document at the following link: <a href="Penetration_Testing_Narrative.pdf" rel="nofollow">Penetration Testing Narrative</a></li><br>
  <li>Additional documentation and references can be found in the repository.</li>
</ul>

<h2 dir="auto">
  <a id="user-content-documentation" class="anchor" aria-hidden="true" href="#documentation">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true">
      <path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z">
      </path>
    </svg>
  </a>
  Asset
</h2>

<p dir="auto">
  The tested asset is an IoT Cloud-based architecture representing the configuration of a smart home door that allows access via a fingerprint reader and detects the presence of strangers through a proximity sensor. The devices involved in the architecture are as follows:
</p>
<ul dir="auto">
  <li><b>End nodes</b>: ESP32 with fingerprint sensor and Arduino Uno WiFi with proximity sensors and buzzer;</li><br>
  <li><b>Edge node</b>: ESP8266 which receives the information sent by ESP32 and Arduino (via MQTT protocol), filters it and sends it to the Raspberry Pi;</li><br>
  <li><b>Fog nodes</b>: the Raspberry Pi is networked via a wired connection to the modem, while, via WLAN, it performs the functions of a DHCP server (to provide IP addresses to the boards) and an MQTT broker. The WLAN interface is configured so that the Raspberry Pi acts as an access point to allow communication between all the boards. The WLAN network was configured by setting a static IP address to the Raspberry Pi on a network different from the Ethernet network, thus ensuring separation between the two networks and optimizing network traffic management. The Raspberry Pi also collects the information transmitted by the ESP8266 and updates a CSV file on Google Drive.</li><br>
</ul>

<p dir="auto">
  The following figure shows in detail the IoT architecture implemented:
</p>
 <img width=600 src="/assets/architettura.png"/>


<h2 dir="auto">
  <a id="user-content-documentation" class="anchor" aria-hidden="true" href="#documentation">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true">
      <path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z">
      </path>
    </svg>
  </a>
  Network infrastructure
</h2>

<p dir="auto">
By means of the special tool provided by VMware, a virtual network was set up with Bridge mode, so the Kali VM will be connected to the local network by obtaining an IP address from the same address pool as the router to which both the host and the asset are connected, as if it were another device on the network. This allows us to perform penetration testing in a more realistic way because the Kali VM will be able to interact directly with other devices on the network, including our IoT architecture that we are testing. The network infrastructure is shown in the following figure in a version that does not take into account the target architecture elements
</p>
<p align="center">
 <img src="/assets/infrastruttura di rete.jpg"/>
</p>

<h2 dir="auto">
  <a id="user-content-authors" class="anchor" aria-hidden="true" href="#authors">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z">
      </path>
    </svg>
  </a>
  Author & Contacts
</h2>

| Name | Description |
| --- | --- |
| <p dir="auto"><strong>Alberto Montefusco</strong> |<br>Developer - <a href="https://github.com/Alberto-00">Alberto-00</a></p><p dir="auto">Email - <a href="mailto:a.montefusco28@studenti.unisa.it">a.montefusco28@studenti.unisa.it</a></p><p dir="auto">LinkedIn - <a href="https://www.linkedin.com/in/alberto-montefusco">Alberto Montefusco</a></p><p dir="auto">My WebSite - <a href="https://alberto-00.github.io/">alberto-00.github.io</a></p><br>|
